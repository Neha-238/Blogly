# Blogly 📝

**Blogly** is a full-stack blogging application where users can create, manage, and interact with blogs.  
It features secure authentication with JWT, a user dashboard for managing blogs, and a public homepage where anyone can explore and comment on blogs.

---

## 🚀 Features

### 🔐 Authentication
- **JWT-based login & signup**
- Secure access to dashboard features

### 📊 Dashboard (Authenticated Users Only)
The dashboard contains 4 main sections:

1. **Dashboard Overview**  
   - View all **published blogs** posted by the logged-in user.

2. **Add Blogs**  
   - Create and publish a new blog post.

3. **Blog Lists**  
   - View **all published and unpublished blogs** created by the user.  
   - Manage publication status.

4. **Comments Management**  
   - Two sections: **Approved** and **Not Approved**  
   - New comments appear in **Not Approved** by default.  
   - User can **approve** or **delete** comments.

### 🏠 Homepage (No Login Required)
- Displays blogs posted by many different users
- **Search bar** to filter blogs by title/content
- Click a blog to view details and comments
- Add comments without logging in (comments go to "Not Approved" until approved by the author)

---

## 🛠 Tech Stack

### Frontend
- **React.js** (UI rendering)
- **React Router** (Navigation)
- **Axios** (API requests)
- **Tailwind CSS** (Styling)

### Backend
- **Node.js** with **Express.js**
- **MongoDB** with Mongoose (Database)
- **JWT** for authentication

---

## 📦 Models 

### Admin

| Field      | Type   | Required | Additional Info            |
| ---------- | ------ | -------- | -------------------------- |
| `name`     | String | ✅        | —                         |
| `email`    | String | ✅        | Unique, lowercase, trimmed|
| `password` | String | ✅        | —                         |

### Blog

| Field         | Type     | Required | Additional Info          |
| ------------- | -------- | -------- | ------------------------ |
| `title`       | String   | ✅        | —                        |
| `subTitle`    | String   | ❌        | Optional                 |
| `description` | String   | ✅        | —                        |
| `category`    | String   | ✅        | —                        |
| `image`       | String   | ✅        | URL or file path         |
| `isPublished` | Boolean  | ✅        | Controls blog visibility |
| `author`      | ObjectId | ✅        | References **Admin**     |
| `createdAt`   | Date     | Auto      | Generated by Mongoose    |
| `updatedAt`   | Date     | Auto      | Generated by Mongoose    |

### Comment

| Field        | Type     | Required | Additional Info         |
| ------------ | -------- | -------- | ----------------------- |
| `blog`       | ObjectId | ✅        | References **Blog**     |
| `name`       | String   | ✅        | Commenter's name        |
| `content`    | String   | ✅        | The actual comment text |
| `isApproved` | Boolean  | ❌        | Defaults to `false`     |
| `createdAt`  | Date     | Auto      | Generated by Mongoose   |
| `updatedAt`  | Date     | Auto      | Generated by Mongoose   |

---

## 🌐 API Endpoints

### Admin Routes

| Method   | Endpoint                     | Description                          | Auth Required | Body / Params               |
| -------- | ---------------------------- | ------------------------------------ | ------------- | --------------------------- |
| **POST** | `/api/admin/login`           | Login as admin                       | ❌             | `email`, `password`         |
| **POST** | `/api/admin/signup`          | Register a new admin                 | ❌             | `name`, `email`, `password` |
| **GET**  | `/api/admin/comments`        | Get all comments                     | ✅             | —                           |
| **GET**  | `/api/admin/blogs`           | Get all blogs of the logged-in admin | ✅             | —                           |
| **POST** | `/api/admin/delete-comment`  | Delete a comment by ID               | ✅             | `commentId`                 |
| **POST** | `/api/admin/approve-comment` | Approve a comment by ID              | ✅             | `commentId`                 |
| **GET**  | `/api/admin/dashboard`       | Get admin dashboard data             | ✅             | —                           |

### Blog Routes

| Method   | Endpoint                   | Description                         | Auth Required | Body / Params                                                          |
| -------- | -------------------------- | ----------------------------------- | ------------- | ---------------------------------------------------------------------- |
| **POST** | `/api/blog/add`            | Create a new blog with image upload | ✅             | `title`, `subTitle`, `description`, `category`, `image`, `isPublished` |
| **GET**  | `/api/blog/all`            | Get all published blogs             | ❌             | —                                                                      |
| **GET**  | `/api/blog/:blogId`        | Get a blog by its ID                | ❌             | URL param: `blogId`                                                    |
| **POST** | `/api/blog/delete`         | Delete a blog by ID                 | ✅             | `blogId`                                                               |
| **POST** | `/api/blog/toggle-publish` | Toggle a blog’s publish status      | ✅             | `blogId`                                                               |
| **POST** | `/api/blog/add-comment`    | Add a comment to a blog             | ❌             | `blogId`, `name`, `content`                                            |
| **POST** | `/api/blog/comments`       | Get all comments for a blog         | ❌             | `blogId`                                                               |

---

## 💻 Installation

Clone the repo:

```bash
git clone https://github.com/username/blogly.git
cd blogly

nstall Backend Dependencies

Navigate to the server folder and install dependencies:

cd server
npm install

Install Frontend Dependencies

Navigate to the frontend folder and install dependencies:

cd ../frontend
npm install

Configure Environment Variables

Create a .env file inside the backend folder (server/.env) and add:

MONGO_URI=your_mongodb_connection_string
JWT_SECRET=your_jwt_secret
PORT=5000

Start the Backend Server
cd ../server
npm start

Start the Frontend

Open a new terminal, go to the frontend folder, and start the React app:

cd ../frontend
npm start
